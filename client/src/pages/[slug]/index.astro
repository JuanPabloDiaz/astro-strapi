---
import BaseLayout from "../../layouts/BaseLayout.astro";
import type { BlockData } from "../../utils/types";
import BlockRenderer from "../../components/blocks/BlockRenderer.astro";
import { getCollection } from "astro:content";


export async function getStaticPaths() {
  const collection = await getCollection("strapiPages");

  function createStaticPaths(articles: typeof collection) {
    return articles.map(article => ({
      params: { slug: article.data.slug },
      props: article.data
    }));
  }

  return createStaticPaths(collection);
}


const { props } = Astro;
const { blocks } = props;

console.log(props, "props");
---
<BaseLayout>
  <BlockRenderer blocks={blocks || []} />
</BaseLayout>
